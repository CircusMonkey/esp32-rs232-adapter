EESchema Schematic File Version 4
LIBS:esp32_rs232_adapter-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 2
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L power:GND #PWR018
U 1 1 5BF53907
P 2700 3650
F 0 "#PWR018" H 2700 3400 50  0001 C CNN
F 1 "GND" H 2705 3477 50  0000 C CNN
F 2 "" H 2700 3650 50  0001 C CNN
F 3 "" H 2700 3650 50  0001 C CNN
	1    2700 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 3200 9600 3250
Wire Wire Line
	9600 2900 9600 3000
Wire Wire Line
	8750 2900 8750 3050
$Comp
L power:GND #PWR027
U 1 1 5C832AA9
P 9600 3250
F 0 "#PWR027" H 9600 3000 50  0001 C CNN
F 1 "GND" H 9605 3077 50  0000 C CNN
F 2 "" H 9600 3250 50  0001 C CNN
F 3 "" H 9600 3250 50  0001 C CNN
	1    9600 3250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR025
U 1 1 5C832B16
P 9250 3250
F 0 "#PWR025" H 9250 3000 50  0001 C CNN
F 1 "GND" H 9255 3077 50  0000 C CNN
F 2 "" H 9250 3250 50  0001 C CNN
F 3 "" H 9250 3250 50  0001 C CNN
	1    9250 3250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR024
U 1 1 5C832B83
P 8750 3350
F 0 "#PWR024" H 8750 3100 50  0001 C CNN
F 1 "GND" H 8755 3177 50  0000 C CNN
F 2 "" H 8750 3350 50  0001 C CNN
F 3 "" H 8750 3350 50  0001 C CNN
	1    8750 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 3200 9250 3250
$Comp
L Device:C_Small C9
U 1 1 5C841C27
P 8750 3150
F 0 "C9" H 8842 3196 50  0000 L CNN
F 1 "1u" H 8842 3105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 8750 3150 50  0001 C CNN
F 3 "~" H 8750 3150 50  0001 C CNN
	1    8750 3150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C11
U 1 1 5C841CF1
P 9600 3100
F 0 "C11" H 9692 3146 50  0000 L CNN
F 1 "1u" H 9692 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9600 3100 50  0001 C CNN
F 3 "~" H 9600 3100 50  0001 C CNN
	1    9600 3100
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_B_Micro J4
U 1 1 5C4ADCCF
P 2700 3150
F 0 "J4" H 2755 3617 50  0000 C CNN
F 1 "USB_B_Micro" H 2755 3526 50  0000 C CNN
F 2 "power_supplies:USB_Micro-B_Molex-105017-0001" H 2850 3100 50  0001 C CNN
F 3 "https://www.molex.com/webdocs/datasheets/pdf/en-us/1050170001_IO_CONNECTORS.pdf" H 2850 3100 50  0001 C CNN
F 4 "https://au.element14.com/molex/105017-0001/usb-conn-2-0-micro-usb-type-b/dp/2293836?st=usb" H 2700 3150 50  0001 C CNN "Supplier"
F 5 "$1.13" H 2700 3150 50  0001 C CNN "Price"
	1    2700 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 3550 2600 3600
Wire Wire Line
	2600 3600 2700 3600
$Comp
L Device:C_Small C10
U 1 1 5C4A11C5
P 9900 3100
F 0 "C10" H 9992 3146 50  0000 L CNN
F 1 "10n" H 9992 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9900 3100 50  0001 C CNN
F 3 "~" H 9900 3100 50  0001 C CNN
	1    9900 3100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR026
U 1 1 5C4A145F
P 9900 3250
F 0 "#PWR026" H 9900 3000 50  0001 C CNN
F 1 "GND" H 9905 3077 50  0000 C CNN
F 2 "" H 9900 3250 50  0001 C CNN
F 3 "" H 9900 3250 50  0001 C CNN
	1    9900 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	9900 3250 9900 3200
Wire Wire Line
	9900 3000 9900 2900
Wire Wire Line
	5950 2900 6250 2900
Wire Wire Line
	6250 3150 6250 3250
$Comp
L Device:Fuse_Small F1
U 1 1 5C494BB4
P 6250 3050
F 0 "F1" H 6250 3235 50  0000 C CNN
F 1 "4A" H 6250 3144 50  0000 C CNN
F 2 "Fuse:Fuse_1206_3216Metric" H 6250 3050 50  0001 C CNN
F 3 "http://www.farnell.com/datasheets/2605299.pdf?_ga=2.18725948.445235074.1548035912-1628748241.1538478974&_gac=1.159502159.1545261800.CjwKCAiA9efgBRAYEiwAUT-jtLHS8b0fAWIGe-kych32dLqRlZ5EtCAZswPKZC3Ud-N_jm54EAYF5xoCtOoQAvD_BwE" H 6250 3050 50  0001 C CNN
F 4 "https://au.element14.com/multicomp/mccfb1206ttt-4/fuse-smd-4a-slow-blow-1206/dp/2850033" H 6250 3050 50  0001 C CNN "Supplier"
F 5 "$0.564" H 6250 3050 50  0001 C CNN "Price"
	1    6250 3050
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R6
U 1 1 5C47EED8
P 3250 2950
F 0 "R6" H 3309 2996 50  0000 L CNN
F 1 "0.2" H 3309 2905 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 3250 2950 50  0001 C CNN
F 3 "~" H 3250 2950 50  0001 C CNN
	1    3250 2950
	0    1    1    0   
$EndComp
Wire Wire Line
	4000 3200 4000 3250
Wire Wire Line
	4300 3200 4300 3250
Wire Wire Line
	4300 2950 4700 2950
Connection ~ 4300 2950
Wire Wire Line
	4300 3000 4300 2950
Wire Wire Line
	3500 2950 4000 2950
Wire Wire Line
	4000 2950 4300 2950
Connection ~ 4000 2950
Wire Wire Line
	4000 3000 4000 2950
Wire Wire Line
	6250 3600 6250 3800
Wire Wire Line
	6250 2900 6250 2850
Connection ~ 6250 2900
Wire Wire Line
	6250 2950 6250 2900
Connection ~ 6250 3600
Wire Wire Line
	6250 3550 6250 3600
Wire Wire Line
	5900 4000 5900 3950
$Comp
L power:GND #PWR021
U 1 1 5C527D0F
P 5900 4000
F 0 "#PWR021" H 5900 3750 50  0001 C CNN
F 1 "GND" H 5905 3827 50  0000 C CNN
F 2 "" H 5900 4000 50  0001 C CNN
F 3 "" H 5900 4000 50  0001 C CNN
	1    5900 4000
	1    0    0    -1  
$EndComp
Text Label 4400 3600 0    50   ~ 0
charge_status
Wire Wire Line
	4000 3700 5000 3700
Wire Wire Line
	4000 3550 4000 3700
Wire Wire Line
	4300 3600 5000 3600
Wire Wire Line
	4300 3550 4300 3600
Wire Wire Line
	4700 3300 5000 3300
Wire Wire Line
	3500 3300 3500 3350
$Comp
L power:GND #PWR019
U 1 1 5C4E7ECD
P 3500 3350
F 0 "#PWR019" H 3500 3100 50  0001 C CNN
F 1 "GND" H 3505 3177 50  0000 C CNN
F 2 "" H 3500 3350 50  0001 C CNN
F 3 "" H 3500 3350 50  0001 C CNN
	1    3500 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 2950 3500 3100
Wire Wire Line
	4700 3200 4700 3300
Wire Wire Line
	4700 3200 4700 2950
Connection ~ 4700 3200
Wire Wire Line
	5000 3200 4700 3200
Wire Wire Line
	5400 4000 5400 3950
$Comp
L power:GND #PWR020
U 1 1 5C4BD85A
P 5400 4000
F 0 "#PWR020" H 5400 3750 50  0001 C CNN
F 1 "GND" H 5405 3827 50  0000 C CNN
F 2 "" H 5400 4000 50  0001 C CNN
F 3 "" H 5400 4000 50  0001 C CNN
	1    5400 4000
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D2
U 1 1 5C4BD357
P 4300 3400
F 0 "D2" H 4200 3450 50  0000 C CNN
F 1 "RED_LED" H 4300 3300 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 4300 3400 50  0001 C CNN
F 3 "~" H 4300 3400 50  0001 C CNN
	1    4300 3400
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D1
U 1 1 5C4BD251
P 4000 3400
F 0 "D1" H 3900 3450 50  0000 C CNN
F 1 "GREEN_LED" H 3950 3300 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 4000 3400 50  0001 C CNN
F 3 "~" H 4000 3400 50  0001 C CNN
	1    4000 3400
	0    1    -1   0   
$EndComp
Wire Wire Line
	5800 3600 5950 3600
Wire Wire Line
	5950 3600 6250 3600
Connection ~ 5950 3600
Wire Wire Line
	5950 3500 5950 3600
$Comp
L Device:C_Small C8
U 1 1 5C4ADFEE
P 5950 3400
F 0 "C8" H 6042 3446 50  0000 L CNN
F 1 "10u" H 6042 3355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 5950 3400 50  0001 C CNN
F 3 "~" H 5950 3400 50  0001 C CNN
	1    5950 3400
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 5C4AD987
P 3500 3200
F 0 "C7" H 3592 3246 50  0000 L CNN
F 1 "10u" H 3592 3155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3500 3200 50  0001 C CNN
F 3 "~" H 3500 3200 50  0001 C CNN
	1    3500 3200
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R8
U 1 1 5C4AD354
P 4300 3100
F 0 "R8" H 4359 3146 50  0000 L CNN
F 1 "200" H 4359 3055 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4300 3100 50  0001 C CNN
F 3 "~" H 4300 3100 50  0001 C CNN
	1    4300 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R7
U 1 1 5C4AD1A5
P 4000 3100
F 0 "R7" H 4059 3146 50  0000 L CNN
F 1 "200" H 4059 3055 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 4000 3100 50  0001 C CNN
F 3 "~" H 4000 3100 50  0001 C CNN
	1    4000 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R9
U 1 1 5C4AD007
P 5900 3850
F 0 "R9" H 5959 3896 50  0000 L CNN
F 1 "1.2k" H 5959 3805 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 5900 3850 50  0001 C CNN
F 3 "~" H 5900 3850 50  0001 C CNN
	1    5900 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5900 3700 5900 3750
Wire Wire Line
	5800 3700 5900 3700
Wire Wire Line
	5950 3200 5950 2900
Wire Wire Line
	5950 3200 5950 3300
Connection ~ 5950 3200
Wire Wire Line
	5800 3200 5950 3200
$Comp
L power_supplies:TP4056-plenoptoscope U3
U 1 1 5C495639
P 5500 3200
F 0 "U3" H 5400 3515 50  0000 C CNN
F 1 "TP4056" H 5400 3424 50  0000 C CNN
F 2 "Package_SO:SSOP-8_3.9x5.05mm_P1.27mm" H 5400 3450 50  0001 C CNN
F 3 "https://dlnmh9ip6v2uc.cloudfront.net/datasheets/Prototyping/TP4056.pdf" H 5400 3450 50  0001 C CNN
F 4 "https://www.aliexpress.com/item/20PCS-TP4056-4056-SOP8-new-and-original-free-shipping/32579408034.html?spm=2114.search0104.3.15.2820243f7EAHnB&ws_ab_test=searchweb0_0,searchweb201602_4_10065_10068_10130_10547_319_317_10548_10696_453_10084_454_10083_433_10618_431_10307_537_536_10131_10132_10133_10059_10884_10887_100031_321_322_10103,searchweb201603_35,ppcSwitch_0&algo_expid=a7d1f887-c842-4a70-9fcf-5259448f521d-2&algo_pvid=a7d1f887-c842-4a70-9fcf-5259448f521d" H 5500 3200 50  0001 C CNN "Supplier"
F 5 "$0.09" H 5500 3200 50  0001 C CNN "Price"
	1    5500 3200
	1    0    0    -1  
$EndComp
$Comp
L Device:Battery_Cell BT1
U 1 1 5BF52D03
P 6250 3450
F 0 "BT1" H 6368 3546 50  0000 L CNN
F 1 "Battery_Cell" H 6368 3455 50  0000 L CNN
F 2 "Connector_JST:JST_PH_B2B-PH-K_1x02_P2.00mm_Vertical" V 6250 3510 50  0001 C CNN
F 3 "http://www.farnell.com/datasheets/1898890.pdf" V 6250 3510 50  0001 C CNN
F 4 "https://au.element14.com/keystone/54/battery-clip-18mm-cell-pcb-through/dp/1888422" H 6250 3450 50  0001 C CNN "Supplier"
F 5 "$1.29 * 2" H 6250 3450 50  0001 C CNN "Price"
	1    6250 3450
	1    0    0    -1  
$EndComp
$Comp
L power:+BATT #PWR022
U 1 1 5BF5800F
P 6250 2850
F 0 "#PWR022" H 6250 2700 50  0001 C CNN
F 1 "+BATT" H 6265 3023 50  0000 C CNN
F 2 "" H 6250 2850 50  0001 C CNN
F 3 "" H 6250 2850 50  0001 C CNN
	1    6250 2850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR023
U 1 1 5BF3D77E
P 6250 3800
F 0 "#PWR023" H 6250 3550 50  0001 C CNN
F 1 "GND" H 6255 3627 50  0000 C CNN
F 2 "" H 6250 3800 50  0001 C CNN
F 3 "" H 6250 3800 50  0001 C CNN
	1    6250 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3350 2950 3500 2950
Connection ~ 3500 2950
Connection ~ 2700 3600
Wire Wire Line
	2700 3550 2700 3600
Wire Wire Line
	2700 3650 2700 3600
Wire Wire Line
	3000 2950 3150 2950
Wire Wire Line
	8750 3250 8750 3350
Text HLabel 10200 2900 2    50   Input ~ 0
3.3V
Text HLabel 8150 3250 2    50   Input ~ 0
Vbatt_sig
$Comp
L Device:R_Small R10
U 1 1 5C535CAB
P 8000 3100
F 0 "R10" H 8059 3146 50  0000 L CNN
F 1 "10k" H 8059 3055 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 8000 3100 50  0001 C CNN
F 3 "~" H 8000 3100 50  0001 C CNN
	1    8000 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R11
U 1 1 5C535DD9
P 8000 3400
F 0 "R11" H 8059 3446 50  0000 L CNN
F 1 "10k" H 8059 3355 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 8000 3400 50  0001 C CNN
F 3 "~" H 8000 3400 50  0001 C CNN
	1    8000 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 3200 8000 3250
Wire Wire Line
	8000 3600 8000 3500
Wire Wire Line
	8000 3250 8150 3250
Connection ~ 8000 3250
Wire Wire Line
	8000 3250 8000 3300
Text Label 8450 3250 2    50   ~ 0
BATT_V_SIG
Wire Wire Line
	8000 2900 8000 3000
$Comp
L Regulator_Linear:AMS1117 U4
U 1 1 5C8E6BA3
P 9250 2900
F 0 "U4" H 9250 3142 50  0000 C CNN
F 1 "AMS1117" H 9250 3051 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 9250 3100 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 9350 2650 50  0001 C CNN
	1    9250 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 2900 8950 2900
Wire Wire Line
	9550 2900 9600 2900
Connection ~ 9600 2900
Wire Wire Line
	9600 2900 9900 2900
Connection ~ 9900 2900
Wire Wire Line
	9900 2900 10200 2900
$Comp
L Transistor_FET:IRF7404 Q1
U 1 1 5C986A9A
P 7250 3000
F 0 "Q1" V 7593 3000 50  0000 C CNN
F 1 "IRF7404" V 7502 3000 50  0000 C CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 7450 2925 50  0001 L CIN
F 3 "http://www.infineon.com/dgdl/irf7404.pdf?fileId=5546d462533600a4015355fa2b5b1b9e" V 7250 3000 50  0001 L CNN
	1    7250 3000
	0    1    -1   0   
$EndComp
Wire Wire Line
	7450 2900 8000 2900
Connection ~ 8750 2900
$Comp
L power:GND #PWR017
U 1 1 5C98B42F
P 7250 3750
F 0 "#PWR017" H 7250 3500 50  0001 C CNN
F 1 "GND" H 7255 3577 50  0000 C CNN
F 2 "" H 7250 3750 50  0001 C CNN
F 3 "" H 7250 3750 50  0001 C CNN
	1    7250 3750
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_SPST SW3
U 1 1 5C98B4C2
P 7250 3500
F 0 "SW3" V 7204 3598 50  0000 L CNN
F 1 "SW_SPST" V 7295 3598 50  0000 L CNN
F 2 "" H 7250 3500 50  0001 C CNN
F 3 "" H 7250 3500 50  0001 C CNN
	1    7250 3500
	0    1    1    0   
$EndComp
Wire Wire Line
	7250 3700 7250 3750
Wire Wire Line
	7250 3300 7250 3250
$Comp
L Device:R_Small R14
U 1 1 5C98D447
P 6850 3100
F 0 "R14" H 6909 3146 50  0000 L CNN
F 1 "10k" H 6909 3055 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 6850 3100 50  0001 C CNN
F 3 "~" H 6850 3100 50  0001 C CNN
	1    6850 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6850 2900 6850 3000
Connection ~ 6850 2900
Wire Wire Line
	6850 2900 7050 2900
Wire Wire Line
	6850 3200 6850 3250
Wire Wire Line
	6850 3250 7250 3250
Connection ~ 7250 3250
Wire Wire Line
	7250 3250 7250 3200
Wire Wire Line
	6250 2900 6850 2900
Connection ~ 8000 2900
Wire Wire Line
	8000 2900 8750 2900
$Comp
L power:GND #PWR028
U 1 1 5C9956ED
P 8000 3600
F 0 "#PWR028" H 8000 3350 50  0001 C CNN
F 1 "GND" H 8005 3427 50  0000 C CNN
F 2 "" H 8000 3600 50  0001 C CNN
F 3 "" H 8000 3600 50  0001 C CNN
	1    8000 3600
	1    0    0    -1  
$EndComp
Text Label 7700 2900 0    50   ~ 0
P_Batt_1
Text Label 3050 2950 0    50   ~ 0
P5_0
Text Label 3700 2950 0    50   ~ 0
P5_1
Text Label 6250 3200 0    50   ~ 0
P_Batt_0
$EndSCHEMATC
